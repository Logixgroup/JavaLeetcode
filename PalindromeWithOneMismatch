public static boolean canBePalindromeWithOneReplace(String s) {

    // 1️⃣ Null or empty check
    if (s == null || s.trim().isEmpty()) {
        return false;
    }

    // 2️⃣ Remove spaces and convert to lowercase
    s = s.replaceAll("\\s+", "").toLowerCase();

    int left = 0;
    int right = s.length() - 1;
    int mismatch = 0; // counts where characters differ

    // 3️⃣ Compare from both ends
    while (left < right) {
        if (s.charAt(left) != s.charAt(right)) {
            mismatch++;

            // ❗ More than 1 mismatch → cannot become palindrome with one replacement
            if (mismatch > 1) {
                return false;
            }
        }
        left++;
        right--;
    }

    return true; // 0 or 1 mismatch => possible palindrome with ≤ 1 change
}